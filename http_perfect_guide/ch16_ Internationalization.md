# 국제화

## 국제적 콘텐츠를 다루기 위해 필요한 HTTP 지원
### 서버
클라이언트에게 각 문서의 문자와 언어를 알려주어 문서의 비트들을 올바른 문자로 풀어내도록 해야한다.

- Content-Type의 charset매개 변수
- Content-Language 헤더 : 어떤 언어 사용자를 대상으로 하는 문서인지 언어태그(kr, en...)로 서술

만약 명시적으로 헤더에 나열하지 않으면 콘텐츠로 부터 charset을 추측하려 시도한다.

HTML콘텐츠에서 문자집합은 `<meta http-equiv="content-type"> <meta lang="ko">`태그에서 찾을 수 있다.

만약 HTML문서가 아니라면 소프트웨어는 실제 텍스트를 스캐닝하여 charset을 추측한다.

만약 추측하지 못하면 `iso-8859-1`로 가정한다.

### 클라이언트
서버에게 자신이 어떤 charset 인코딩 알고리즘과 언어들을 이해하며 무엇을 선호하는지 알려주어야 한다.

- Accept-Charset 헤더
- Accept-Language 헤더


## Charset
글자<->비트 변환하는 인코딩/디코딩 구조 (알고리즘의 이름)

charset태그는 등록된 MIME 문자집합에 표준화되어 있다.

(MIME charset태그는 문자 인코딩 구조 + 매핑위한 문자집합 의 결합이다)

IANA가 관리한다.

```
Content-Type: text/html; charset=iso-8859-6
```
Content-Type헤더는 콘텐츠가 html파일임을 밝힌다.

charset매개변수는 콘텐츠의 비트를 디코딩하기 위해 iso-8859-6 디코딩 기법을 사용하라고 말해준다.

## 문자집합과 인코딩 동작 과정
1. 데이터 비트를 chartset 인코딩 구조 사용하여 디코딩 -> 문자코드를 얻는다
2. charset 문자집합에서 문자코드로 글자를 찾는다.
3. 글꼴과 포매팅 소프트웨어를 사용하여 화면에 보여줄 모양을 찾는다

## 용어 정리

### 문자
글쓰기의 최소 단위, 의미적 단위

유일하고 추상화된 언어의 요소

유니코드로 불리는 국제문자세트의 계획에 따라 여러 언어의 여러 글자에 유일한 이름을 부여하기 위한 이름집합이 개발되어왔다.

### 글리프
하나의 글자를 표현하기 위한 유일한 시각적 형태

하나의 글자는 여러 글리프를 가질 수 있다.

### coded character
각 글자에 할당된 유일한 숫자

### coding space
문자코드로 사용하고자 계획해 둔 정수 범위

### charater repertoire
사용가능 문자집합 - 글자들에 대한 특정한 부분집합

### coded charset
charater repertoire에 coding space의 코드를 할당해준 코딩된 문자들의 집합
- US-ASCII
    - 미국표준코드
    - 가장 유명한 문자집합
    - 0-127만 사용하므로 7비트만 필요하다.
    - HTTP 메세지가 사용하는 문자집합
- iso-8859
    - US-ASCII를 8비트로 확대한 집합
    - 추가 비트가 제공할수 있는 공간은 모든 글자를 담기는 적으므로 지역별로 커스터마이징됨
    - ex) iso-8859-1 서유럽, iso-8859-2 중앙 동유럽 ...
- UCS
    - 국제문자세트
    - 전세계 글자를 하나의 문자집합으로 통합하려는 노력
    - UCS = ISO 10646

#### 문자 인코딩 구조
숫자로 된 문자코드들을 비트로 인코딩 / 디코딩하는 알고리즘

- 고정폭 인코딩
    - 문자코드를 고정된 길이의 비트로 표현, 빠른처리 but 공간낭비
    - ex) iso-8859 는 8비트 인코딩으로 256개의 문자집합 지원

- 가변폭 인코딩 
    - 문자코드에 다른 길이의 비트 사용. 자주 사용하는 글자는 짧은 비트, 국제문자는 긴 비트
    - ex) utf-8 은 UCS위해 설계된 인코딩 구조로 첫바이트가 인코딩된 문자의 바이트 길이를 나타낸다 . 따라서 7비트인 아스키를 0+7비트 =1바이트로 표현가능하다.
    - ex) euc-kr 한글을 위한 인코딩 KS X 1003 / KS X 1001 두가지 문자집합 지원하는 인코딩, KS X 1001은 한글채움문자를 이용해 초성 중성 종성을 합해 글자 하나를 표현할수 있게 한다.

- 가변폭 모달 인코딩
    - 다른 모드로 전환위해 escape패턴을 사용한다. 복잡한 표기 체계 지원위해 사용

## 국제화된 URI
URI는 US-ASCII 부분집합으로 이루어져있다.

오늘날 최신 URI 명세인 RFC 3986을 보면 UTF-8을 사용할수 있게 되었으므로 다양한 문자를 uri에 쓸수 잇다.
